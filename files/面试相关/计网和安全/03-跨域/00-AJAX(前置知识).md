# 1【AJAX】

## 1.1 原理

- 1)即通过浏览器的 XMLHttpRequest 对象（也是一个 javascript 对象，实则就是 Ajax 引擎）向服务器发送异步请求
- 2)接收服务器的响应数据
- 3)然后用 javascript 来操作 DOM 儿更新页面。
  [注意]：用户的请求是间接通过 Ajax 引擎发出的，而不是通过浏览器直接发出的；
  同时 Ajax 引擎也接收服务器返回响应的数据，所以不会导致浏览器上的页面全部刷新。

## 1.2 使用方式

创建 XMLHttpRequest 对象，也就是创建一个异步调用对象

```js
const xhr = new XMLHttpRequest();

//创建一个新的 HTTP 请求，并指定该 HTTP 请求的方法、URL 及验证信息
xhr.open("get", "example.php", true);

//设置响应 HTTP 请求状态变化的函数
xhr.onload = () => {
  if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304) {
    //获取异步调用返回的数据
    alert(xhr.responseText);
  } else {
    alert("Something wrong!");
  }
};

//发送 HTTP 请求
xhr.send(null);
```

补充说明：
成功类（请求已经被成功处理了）
200 请求已成功，返回想要的东西。出现此状态码是表示正常状态。（所有人都喜欢的）

201 请求成功，服务器正在创建请求的资源

202 服务器收到请求了，但是未处理

203 服务器成功处理，但是返回的信息是另一个来源

204 服务器成功处理，但是没有返回内容

205 服务器成功处理，但是没有返回内容

206 成功处理了部分 get 请求

重定向类（要完成请求，需要进一步操作）
300 针对请求，服务器可执行多种操作

301 请求的网页已永久移动到新位置。 服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置

302 服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求

304 自从上次请求后，请求的网页未修改过。 服务器返回此响应时，不会返回网页内容

305 请求者只能使用代理访问请求的网页。 如果服务器返回此响应，还表示请求者应使用代理

请求错误（请求可能出错，导致服务器处理不了）
400 语义错误，请求无法被服务器理解。或者请求参数有误

401 请求需要请求者验证

403 服务器拒绝该请求

404 找不到请求网页

405 请求的方法是服务器中禁用的

406 请求的资源的内容特性无法满足请求头中的条件，因而无法生成响应实体

408 请求超时

410 被请求的资源在服务器上已经不再可用，而且没有任何已知的转发地址

413 服务器拒绝处理当前请求，因为该请求提交的实体数据大小超过了服务器愿意或者能够处理的范围

服务器错误
500 服务器代码报错

501 服务器不具备完成请求的功能。 例如，服务器无法识别请求方法时可能会返回此代码

502 服务器作为网关或代理，从上游服务器收到无效响应

503 服务器目前无法使用（由于超载或停机维护）。 通常，这只是暂时状态

504 服务器作为网关或代理，但是没有及时从上游服务器收到请求

505 服务器不支持请求中所用的 HTTP 协议版本
————————————————
版权声明：本文为 CSDN 博主「black_cat_T」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/qq_40717869/article/details/81454461
