【异步加载 async 和 defer】

# 重点

浏览器一边下载 HTML 网页，一边开始解析。也就是说，不等到下载完，就开始解析。
解析过程中，浏览器发现<script>元素，就暂停解析，把网页渲染的控制权转交给 JavaScript 引擎。
如果<script>元素引用了外部脚本，就下载该脚本再执行，否则就直接执行代码。
JavaScript 引擎执行完毕，控制权交还渲染引擎，恢复解析 HTML 网页。

## 通过给<script>标签设置 defer 属性，将脚本文件设置为延迟加载.

当浏览器遇到带有 defer 属性的<script>标签时，会再开启一个线程去下载 js 文件，同时继续解析 HTML 文档.
等等 HTML 全部解析完毕 DOM 加载完成之后，再去执行加载好的 js 文件。

## async 属性和 defer 属性类似，也是会开启一个线程去下载 js 文件.

但和 defer 不同的时，它会在下载完成后立刻执行，而不是会等到 DOM 加载完成之后再执行，所以还是有可能会造成阻塞。
